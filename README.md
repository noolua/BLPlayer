# BLPlayer

使用ESP32系列开发板，播放bilibili.com音频流的演示程序。

## 演示视频
 - 正在制作 ...

## 大致框图
<img src="./misc/block_diagram.png" alt="Alt Text" width="800"/>

## 特点

- 硬件需求: 一个蓝牙音箱（蓝牙耳机）+ 一块ESP32开发板。
- 支持自动查找附近的蓝牙音箱
- 页面远程播放控制

## 安装

### 源码安装

1. 修改src/wifi_config.h中定义的为自己的WIFI网络，再使用vscode+platformio编译刷入固件到ESP32
2. 蓝牙音箱开机，并确保音箱没有与其他设备进行蓝牙连接，同时ESP32上电，等待接入网络后，会自动搜索附近信号最好的蓝牙音箱。
3. 上述过程在第一次启动时大概需要30秒，短按esp32上的boot按键(1秒左右)，正常情况会从蓝牙音箱中听到一段短暂的音效。
4. ESP32上电联网后，长按BOOT按键5秒以后松开按键，则可以获取数字码，可以从log中查看，也可以通过音箱收听到
5. 浏览器打开 https://iot.fadai8.cn/esp32audio.html 
6. 填入听到的数字码，点击页面上“播放指定音乐”按钮，测试音乐是否正常播放。

### 浏览器安装

- 等待补充

## 查看日志
  - 可以通过串口输出查看运行时的各种调试信息

## 重置数据
  - 当刷好固件后，只需在ESP32上电后3秒左右，按rst按键即可重置连接数据，包含Wi-Fi的连接数据和蓝牙设备的连接数据。


## 贡献

## 许可证
  - GPL-3.0 license